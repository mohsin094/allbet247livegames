import{_ as h,o as l,c as a,a as s,t as n,j as r,n as m,b as c,F as d,r as u}from"./index-489d631c.js";const b={data(){return{user:void 0,userId:"",baseUrl:"https://allbet247livegames.com",transactions:void 0,agentTransactions:void 0}},mounted(){this.userId=this.$route.query.userId,this.fetchUser(),this.fetchTransactions(),this.fetchAgentTransactions()},methods:{fetchTransactions(){this.$axios.get("https://allbet247livegames.com/backend/web/financial/admin/list?query="+this.userId).then(o=>{o=o.data,o.result&&(this.transactions=o.params)})},fetchAgentTransactions(){this.$axios.get("https://allbet247livegames.com/backend/web/financial/admin/get-agent-transactions?agentId="+this.userId).then(o=>{o=o.data,o.result&&(this.agentTransactions=o.params)})},fetchUser(){this.$axios.get("https://allbet247livegames.com/backend/web/user/admin/get?userId="+this.userId).then(o=>{o=o.data,o.result&&(this.user=o.params)})},getStatusClass(o){let i="";switch(o){case"active":i="success";break;case"waiting_confirmation":i="warning";break;case"block":i="danger";break}return"bg-label-"+i}}},g=s("h4",null,"User Profile",-1),p={class:"row"},v={class:"col-xl-4 col-lg-5 col-md-5 order-1 order-md-0"},y={key:0,class:"card mb-4"},f={class:"card-body"},w={class:"user-avatar-section"},k={class:"d-flex align-items-center flex-column"},T=["src"],x={class:"user-info text-center"},I={class:"mb-2"},D={class:"badge bg-label-secondary mt-1"},R=s("p",{class:"mt-4 small text-uppercase text-muted"},"Details",-1),S={class:"info-container"},U={class:"list-unstyled"},A={class:"mb-2"},M=s("span",{class:"fw-medium me-1"},"Public Name:",-1),C={class:"mb-2 pt-1"},B=s("span",{class:"fw-medium me-1"},"Email:",-1),N={class:"mb-2 pt-1"},L=s("span",{class:"fw-medium me-1"},"Status:",-1),P={class:"mb-2 pt-1"},V=s("span",{class:"fw-medium me-1"},"Role:",-1),q={class:"mb-2 pt-1"},E=s("span",{class:"fw-medium me-1"},"Balance:",-1),F={class:"mb-2 pt-1"},j=s("span",{class:"fw-medium me-1"},"Level:",-1),z={key:0,class:"mb-2 pt-1"},W=s("span",{class:"fw-medium me-1"},"Agent:",-1),G={class:"col-xl-8 col-lg-7 col-md-7 order-0 order-md-1"},H={key:0,class:"card mb-4"},J=s("h5",{class:"card-header"},"Daily Revenue Share",-1),K={class:"table-responsive text-nowrap"},O={class:"table"},Q=s("thead",null,[s("tr",null,[s("th",null,"ID"),s("th",null,"Amount"),s("th",null,"Match ID")])],-1),X={class:"table-border-bottom-0"},Y={class:"table"},Z={class:"table-border-bottom-0"},$={class:"bg-success"},ss=s("td",null,"Total Revenue Share",-1),es={key:1,class:"card mb-4"},ts=s("h5",{class:"card-header"},"Weekly Revenue Share",-1),ns={class:"table-responsive text-nowrap"},ls={class:"table"},as=s("thead",null,[s("tr",null,[s("th",null,"ID"),s("th",null,"Amount"),s("th",null,"Match ID")])],-1),os={class:"table-border-bottom-0"},cs={class:"table"},rs={class:"table-border-bottom-0"},is={class:"bg-success"},ds=s("td",null,"Total Revenue Share",-1),us={key:2,class:"card mb-4"},_s=s("h5",{class:"card-header"},"Monthly Revenue Share",-1),hs={class:"table-responsive text-nowrap"},ms={class:"table"},bs=s("thead",null,[s("tr",null,[s("th",null,"ID"),s("th",null,"Amount"),s("th",null,"Match ID")])],-1),gs={class:"table-border-bottom-0"},ps={class:"table"},vs={class:"table-border-bottom-0"},ys={class:"bg-success"},fs=s("td",null,"Total Revenue Share",-1),ws={key:3,class:"card mb-4"},ks=s("h5",{class:"card-header"},"Last 50 Transactions",-1),Ts={class:"table-responsive text-nowrap"},xs={class:"table"},Is=s("thead",null,[s("tr",null,[s("th",null,"ID"),s("th",null,"User"),s("th",null,"Amount"),s("th",null,"Type"),s("th",null,"Desc."),s("th",null,"Match ID")])],-1),Ds={class:"table-border-bottom-0"},Rs={key:0},Ss={class:"avatar avatar-md me-2"},Us=["src"],As={class:"fw-medium"},Ms={key:0,class:"avatar avatar-md me-2"},Cs=["src"],Bs={key:1,class:"fw-medium"};function Ns(o,i,Ls,Ps,e,_){return l(),a(d,null,[g,s("div",p,[s("div",v,[e.user!=null?(l(),a("div",y,[s("div",f,[s("div",w,[s("div",k,[s("img",{alt:"User avatar",class:"img-fluid rounded mb-3 pt-1 mt-4",height:"100",src:e.baseUrl+"/assets/images/avatars/"+e.user.avatar+".png",width:"100"},null,8,T),s("div",x,[s("h4",I,n(e.user.public_name),1),s("span",D,n(e.user.role),1)])])]),R,s("div",S,[s("ul",U,[s("li",A,[M,r(),s("span",null,n(e.user.public_name),1)]),s("li",C,[B,r(),s("span",null,n(e.user.email),1)]),s("li",N,[L,r(),s("span",{class:m(["badge",_.getStatusClass(e.user.status)])},n(e.user.status),3)]),s("li",P,[V,r(),s("span",null,n(e.user.role),1)]),s("li",q,[E,r(),s("span",null,n(e.user.balance),1)]),s("li",F,[j,r(),s("span",null,n(e.user.lvl),1)]),e.user.agent!=null?(l(),a("li",z,[W,r(),s("span",null,n(e.user.agent.public_name),1)])):c("",!0)])])])])):c("",!0)]),s("div",G,[e.user!=null&&(e.user.role=="agent"||e.user.role=="admin")&&e.agentTransactions!=null?(l(),a("div",H,[J,s("div",K,[s("table",O,[Q,s("tbody",X,[(l(!0),a(d,null,u(e.agentTransactions.daily.transactions,t=>(l(),a("tr",null,[s("td",null,n(t._id),1),s("td",null,n(t.amount),1),s("td",null,n(t.source=="game-engine-match-end"?t.source_id:""),1)]))),256))])]),s("table",Y,[s("tbody",Z,[s("tr",$,[ss,s("td",null,n(e.agentTransactions.daily.totalRevenue),1)])])])])])):c("",!0),e.user!=null&&(e.user.role=="agent"||e.user.role=="admin")&&e.agentTransactions!=null?(l(),a("div",es,[ts,s("div",ns,[s("table",ls,[as,s("tbody",os,[(l(!0),a(d,null,u(e.agentTransactions.weekly.transactions,t=>(l(),a("tr",null,[s("td",null,n(t._id),1),s("td",null,n(t.amount),1),s("td",null,n(t.source=="game-engine-match-end"?t.source_id:""),1)]))),256))])]),s("table",cs,[s("tbody",rs,[s("tr",is,[ds,s("td",null,n(e.agentTransactions.weekly.totalRevenue),1)])])])])])):c("",!0),e.user!=null&&(e.user.role=="agent"||e.user.role=="admin")&&e.agentTransactions!=null?(l(),a("div",us,[_s,s("div",hs,[s("table",ms,[bs,s("tbody",gs,[(l(!0),a(d,null,u(e.agentTransactions.monthly.transactions,t=>(l(),a("tr",null,[s("td",null,n(t._id),1),s("td",null,n(t.amount),1),s("td",null,n(t.source=="game-engine-match-end"?t.source_id:""),1)]))),256))])]),s("table",ps,[s("tbody",vs,[s("tr",ys,[fs,s("td",null,n(e.agentTransactions.monthly.totalRevenue),1)])])])])])):c("",!0),e.user!=null&&e.user.role!="agent"?(l(),a("div",ws,[ks,s("div",Ts,[s("table",xs,[Is,s("tbody",Ds,[(l(!0),a(d,null,u(e.transactions,t=>(l(),a("tr",null,[s("td",null,n(t._id.$oid),1),t.user!=null||t.user!=null?(l(),a("td",Rs,[s("div",Ss,[s("img",{src:e.baseUrl+"/assets/images/avatars/"+t.user.avatar+".png",alt:"Avatar",class:"rounded-circle"},null,8,Us)]),s("span",As,n(t.user.public_name),1)])):c("",!0),s("td",null,n(t.amount),1),s("td",null,n(t.type),1),s("td",null,[r(n(t.description)+" ",1),t.operator!=null?(l(),a("div",Ms,[s("img",{src:e.baseUrl+"/assets/images/avatars/"+t.operator.avatar+".png",alt:"Avatar",class:"rounded-circle"},null,8,Cs)])):c("",!0),t.operator!=null?(l(),a("span",Bs,n(t.operator.public_name),1)):c("",!0)]),s("td",null,n(t.source=="backend\\modules\\game\\models\\MatchesRepo"?t.source_id:""),1)]))),256))])])])])):c("",!0)])])],64)}const qs=h(b,[["render",Ns]]);export{qs as default};
